<ng2-slim-loading-bar class="navbar-fixed-top" [color]="'#128950'" [height]="'3px'"></ng2-slim-loading-bar>
<quietthyme-header></quietthyme-header>
<quietthyme-page-title title="Library" subtitle="Your library is accessible anytime, anywhere, on any device"></quietthyme-page-title>

<!-- Content
============================================= -->
<section id="content" class="footer-padding" >

    <div class="content-wrap">

        <div class="container clearfix" >

            <div class="row" >

                <!-- Sidebar
	            ============================================= -->
                <div class="col-md-3">
                    <div class="sidebar-widgets-wrap">

                        <div class="widget widget-filter-links clearfix">

                            <h4>Sort By</h4>
                            <ul class="shop-sorting">
                                <li [ngClass]="{'active-filter': !filter.sort}"><a class="cursor-pointer" (click)="setSort(null)">Title</a></li>
                                <li [ngClass]="{'active-filter': filter.sort == 'authors'}"><a class="cursor-pointer" (click)="setSort('authors')">Author</a></li>
                                <li [ngClass]="{'active-filter': filter.sort == 'series_name'}"><a class="cursor-pointer" (click)="setSort('series_name')">Series</a></li>
                                <li [ngClass]="{'active-filter': filter.sort == 'created_at'}"><a class="cursor-pointer" (click)="setSort('created_at')">Added Date</a></li>
                            </ul>

                        </div>

                        <div class="widget widget-filter-links clearfix">

                            <h4>Storage</h4>
                            <ul class="custom-filter">
                                <li [ngClass]="{'active-filter': !filter.storage}"><a class="cursor-pointer" (click)="setStorage(null)">All</a></li>
                                <li [ngClass]="{'active-filter': filter.storage == 'quietthyme'}"><a class="cursor-pointer" (click)="setStorage('quietthyme')">QuietThyme</a></li>
                                <li *ngIf="connected.box" [ngClass]="{'active-filter': filter.storage == 'box'}"><a class="cursor-pointer" (click)="setStorage('box')">Box</a></li>
                                <li *ngIf="connected.dropbox" [ngClass]="{'active-filter': filter.storage == 'dropbox'}"><a class="cursor-pointer" (click)="setStorage('dropbox')">Dropbox</a></li>
                                <li *ngIf="connected.gdrive" [ngClass]="{'active-filter': filter.storage == 'gdrive'}"><a class="cursor-pointer" (click)="setStorage('gdrive')">Google Drive</a></li>
                                <li *ngIf="connected.skydrive" [ngClass]="{'active-filter': filter.storage == 'skydrive'}"><a class="cursor-pointer" (click)="setStorage('skydrive')">OneDrive</a></li>
                            </ul>

                        </div>



                    </div>
                </div><!-- .sidebar end -->

                <div class="col-md-9">
                    <!-- Shop
				============================================= -->
                    <masonry [useImagesLoaded]="true" id="shop" class="shop product-4 grid-container clearfix" >

                        <masonry-brick *ngFor="let book of bookList; let myIndex = index" class="product brick">
                            <div class="product-image">
                                <a routerLink="/book/{{ book.id }}" >
                                    <img *ngIf="book.cover" src="https://s3.amazonaws.com/{{ book.cover }}" alt="{{ book.title }}">
                                    <img *ngIf="!book.cover" src="assets/images/noart.png" alt="{{ book.title }}">
                                </a>
                                <div class="book-tag" *ngIf="book.series_name">{{ book.series_name }}</div>

                                <div class="product-overlay">
                                    <a (click)="downloadBook(book)" class="add-to-cart cursor-pointer"><i class="icon-cloud-download"></i><span> Download</span></a>
                                    <a routerLink="/book/{{ book.id }}" class="item-quick-view cursor-pointer" data-lightbox="ajax"><i class="icon-info-sign"></i><span> Details</span></a>

                                </div>
                            </div>
                            <div class="product-desc center">
                                <div class="product-title cursor-pointer"><h3><a routerLink="/book/{{ book.id }}">{{ book.title }}</a></h3></div>
                                <div class="product-price">{{ book.authors }}</div>
                            </div>
                        </masonry-brick>

                    </masonry><!-- #shop end -->

                </div>

            </div>


        </div>

    </div>

</section><!-- #content end -->

<quietthyme-footer></quietthyme-footer>